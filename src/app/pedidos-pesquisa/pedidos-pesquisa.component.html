<div class="container">
      <div class="p-col">
        <h1>Pedidos</h1>
      
    <form [formGroup]="buscaPedido" autocomplete="off" (ngSubmit)="pesquisar()">
      <div class="p-grid">     
        
        <div class="p-col-12 p-md-6 p-lg-3">
          <label style="display: block">Nome Cliente</label>
          <input pInputText appUppercase formControlName="nomeCliente">
        </div>
        <div class="p-col-12 p-md-6 p-lg-3">  
          <label style="display: block">Nome Vendedor</label>
          <input pInputText appUppercase  formControlName="nomeVendedor" >
        </div>
        <div class="p-col-12 p-md-6 p-lg-3">
          <label style="display: block">Num. Pedido</label>
          <input pInputText formControlName="numped" >
          <div *ngIf="f.numped.errors" class="invalid-feedback">
            <sup>*</sup>Somente números. 
          </div>
        </div> 
        
        
        <!--<div class="p-col-12">
          <label style="display: block">Emissão</label>      
          <p-calendar formControlName="dataPedidoDe" [showIcon]="true" inputId="dataPedidoDe"></p-calendar> 
          <label > até </label>
          <p-calendar formControlName="dataPedidoAte"[showIcon]="true" inputId="dataPedidoAte"></p-calendar> 
        </div> -->    

        <div class="p-col-4">
          <button pButton type="submit" label="Pesquisar" ></button>
          <button pButton type="button" label="Limpar" (click)="limparBusca()" ></button>
        </div>
      </div> 
    </form>
  </div>
    

<div class="p-shadow-3">
    <div class="p-grid p-fluid">
      <p-table styleClass="p-datatable-sm" [value]="pedidos" [paginator]="true" [rows]="20" [showCurrentPageReport]="true"
      currentPageReportTemplate="Mostrando {first} de {last} of {totalRecords} pedidos" [rowsPerPageOptions]="[10,25,50]" [responsive]="true">
        <ng-template pTemplate="header">
            <tr>
                <th>Numped</th>                
                <th class="p-fluid p-col-4">Cliente</th>
                <th>Posição</th>
                <th>Vendedor</th>
                <th>Data Pedido</th>
                <th>Observação</th>                 
                <th>Opções</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-pedidos>
            <tr>
                <td>{{pedidos.numped }}</td>
                <td class="p-fluid p-col-4">{{pedidos.cliente }}</td>                
                <td [ngStyle]="{color: pedidos.posicao === 'F' ? 'blue' : 'red'}">{{pedidos.posicao}}</td>
                <td>{{pedidos.nome }}</td>
                <td>{{pedidos.datadigitacao | date:'dd/MM/y HH:mm:ss'}}</td>
                <td>{{pedidos.obs}}</td>                                   
                <td>
                 
                    <!--<button pButton pRipple type="button" icon="pi pi-search" 
                    class="p-button-rounded p-button-success p-button-outlined" pTooltip="Informações sobre o Pedido." 
                    tooltipPosition="top" routerLink="/pedidos/{{pedidos.numped}}"></button> -->
                    
                   <button pButton pRipple type="button" label="Chegou"
                    class="p-button-rounded p-button-outlined" pTooltip="Cliente chegou na Loja!" 
                    tooltipPosition="top" (click)="marcarChegada(pedidos.numped)"></button>
                   <!-- <button pButton type="button" (click)="marcarChegada(pedidos.numped)"></button>-->
                    <!--<button pButton type="button" icon="pi pi-trash" iconPos="left" pTooltip="Excluir" tooltipPosition="top" (click)="excluir(pedidos)"></button>-->
                
                </td>
            </tr>
        </ng-template>
    </p-table>
    </div>
</div>


</div>

